{"is_source_file": true, "format": "JavaScript", "description": "This file implements an Express.js server providing REST API endpoints for a notebook application, including CRUD operations for notes and folders, versioning, import/export, settings management, and a simple notification system.", "external_files": ["cors", "multer", "sqlite3", "path", "fs", "uuid"], "external_methods": ["require", "path.resolve", "path.join", "fs.readFile", "fs.unlinkSync", "db.serialize", "db.run", "db.get", "db.all", "res.json", "res.status", "res.sendFile", "app.use", "app.get", "app.post", "app.put", "app.delete", "app.listen"], "published": ["app", "db", "createDatabase", "addNotification"], "classes": [], "methods": [{"name": "createDatabase(db)", "description": "Initializes the SQLite database schema if missing, creating tables for notes, folders, note_versions, and settings.", "scope": "", "scopeKind": ""}, {"name": "addNotification(msg, type = 'info')", "description": "Adds a notification message to the in-memory notification log.", "scope": "", "scopeKind": ""}, {"name": "AnonymousFunction51aee9150100(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150200(err2)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150300(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150400(err2)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150500(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150600(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150700(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AnonymousFunction51aee9150800(err)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["require", "path.resolve", "path.join", "fs.readFile", "fs.unlinkSync", "db.serialize", "db.run", "db.get", "db.all", "res.json", "res.status", "app.use", "app.get", "app.post", "app.put", "app.delete", "app.listen", "fs.existsSync", "app.use", "res.sendFile"], "search-terms": ["server.js", "Express", "SQLite", "notebook", "notes CRUD", "versioning", "import/export", "settings API", "notifications"], "state": 2, "file_id": 13, "knowledge_revision": 26, "git_revision": "", "ctags": [{"_type": "tag", "name": "AnonymousFunction51aee9150100", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^    function (err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150200", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^      function (err2) {$/", "language": "JavaScript", "kind": "function", "signature": "(err2)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150300", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^  db.run(`UPDATE notes SET is_deleted = 1 WHERE id = ?`, [req.params.id], function (err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150400", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^      function (err2) {$/", "language": "JavaScript", "kind": "function", "signature": "(err2)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150500", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^    [id, name, now], function (err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150600", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^  db.run(`DELETE FROM folders WHERE id=?`, [req.params.id], function (err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150700", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^  db.run(q, [value, ...ids], function (err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "AnonymousFunction51aee9150800", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^  db.run('INSERT OR REPLACE INTO settings (key, value) VALUES (?, ?)', [key, value], function (e/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "DATABASE_FILE", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const DATABASE_FILE = path.resolve(__dirname, 'notebook.sqlite');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PORT", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const PORT = process.env.PORT || 4000; \\/\\/ Backend API runs on :4000$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addNotification", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^function addNotification(msg, type = 'info') {$/", "language": "JavaScript", "kind": "function", "signature": "(msg, type = 'info')"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const app = express();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clientBuildPath", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const clientBuildPath = path.resolve(__dirname, 'build');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cors", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const cors = require('cors');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createDatabase", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^function createDatabase(db) {$/", "language": "JavaScript", "kind": "function", "signature": "(db)"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const db = new sqlite3.Database(DATABASE_FILE);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fs", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const fs = require('fs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "multer", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const multer = require('multer');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "notifications", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^let notifications = [];$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const path = require('path');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sqlite3", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const sqlite3 = require('sqlite3').verbose();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "upload", "path": "/home/kavia/workspace/code-generation/notebook-aec5a769/NotebookMonolithicContainer/server.js", "pattern": "/^const upload = multer({ dest: path.resolve(__dirname, 'uploads\\/') });$/", "language": "JavaScript", "kind": "constant"}], "hash": "9dd3c74794d04b8b619a61cafd5410ba", "format-version": 4, "code-base-name": "NotebookMonolithicContainer", "filename": "NotebookMonolithicContainer/server.js", "fields": [{"name": "let notifications = [];", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"26": ""}]}